❯ docker run -d --name tomcat -p 8080:8080 tomcat:9
  docker exec -it tomcat bash

Unable to find image 'tomcat:9' locally
9: Pulling from library/tomcat
2726e237d1a3: Pull complete 
4dffb2e8f490: Pull complete 
551745135a2a: Pull complete 
aed71c0b623c: Pull complete 
1d5fef8a5378: Pull complete 
a2fc1a8910ca: Pull complete 
4f4fb700ef54: Pull complete 
8d27092a50b3: Pull complete 
Digest: sha256:f07476c749fd1162f81a500b99efca0086e6457d26a7e9abe31cf4fff64861ef
Status: Downloaded newer image for tomcat:9
a5409d732b9faab0afb01c648c46da018f2095bd1bcadadb02dc3913e30de63a
root@a5409d732b9f:/usr/local/tomcat#   echo "Hello C-DAC" > /usr/local/tomcat/webapps/ROOT/index.html 
bash: /usr/local/tomcat/webapps/ROOT/index.html: No such file or directory
root@a5409d732b9f:/usr/local/tomcat# ls /usr/local/tomcat/webapps
root@a5409d732b9f:/usr/local/tomcat# ls /usr/local/tomcat/
bin           CONTRIBUTING.md  LICENSE         NOTICE         RUNNING.txt    webapps
BUILDING.txt  filtered-KEYS    logs            README.md      temp           webapps.dist
conf          lib              native-jni-lib  RELEASE-NOTES  upstream-KEYS  work

root@a5409d732b9f:/usr/local/tomcat# cp -r /usr/local/tomcat/webapps.dist/ROOT /usr/local/tomcat/webapps/
echo "Hello C-DAC" > /usr/local/tomcat/webapps/ROOT/index.html

root@a5409d732b9f:/usr/local/tomcat# exit
exit

What's next:
    Try Docker Debug for seamless, persistent debugging tools in any container or image → docker debug tomcat
    Learn more at https://docs.docker.com/go/debug-cli/
zsh: no such file or directory: /usr/local/tomcat/webapps/ROOT/index.html

❯ docker ps
CONTAINER ID   IMAGE      COMMAND             CREATED          STATUS          PORTS                    NAMES
a5409d732b9f   tomcat:9   "catalina.sh run"   10 minutes ago   Up 10 minutes   0.0.0.0:8080->8080/tcp   tomcat

❯ docker stop tomcat
tomcat

---

❯ docker compose up --build

WARN[0000] /Users/sachin/Desktop/CDAC_ACTS/Lab_Work/docker/tomcat/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion 
[+] Running 2/2
 ✔ Network tomcat_default      Created                                                          0.1s 
 ✔ Container tomcat-container  Created                                                          0.1s 
Attaching to tomcat-container
tomcat-container  | NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.052 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.104
tomcat-container  | 26-Apr-2025 10:13:11.061 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 4 2025 12:32:55 UTC
tomcat-container  | 26-Apr-2025 10:13:11.062 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.104.0
tomcat-container  | 26-Apr-2025 10:13:11.062 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux
tomcat-container  | 26-Apr-2025 10:13:11.062 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            6.10.14-linuxkit
tomcat-container  | 26-Apr-2025 10:13:11.062 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64
tomcat-container  | 26-Apr-2025 10:13:11.063 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/java/openjdk
tomcat-container  | 26-Apr-2025 10:13:11.063 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           21.0.7+6-LTS
tomcat-container  | 26-Apr-2025 10:13:11.067 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Eclipse Adoptium
tomcat-container  | 26-Apr-2025 10:13:11.072 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat
tomcat-container  | 26-Apr-2025 10:13:11.073 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat
tomcat-container  | 26-Apr-2025 10:13:11.083 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.084 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang.invoke=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.084 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.085 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.085 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.086 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.087 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
tomcat-container  | 26-Apr-2025 10:13:11.088 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties
tomcat-container  | 26-Apr-2025 10:13:11.089 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
tomcat-container  | 26-Apr-2025 10:13:11.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048
tomcat-container  | 26-Apr-2025 10:13:11.091 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources
tomcat-container  | 26-Apr-2025 10:13:11.093 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.io.useCanonCaches=false
tomcat-container  | 26-Apr-2025 10:13:11.093 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027
tomcat-container  | 26-Apr-2025 10:13:11.094 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=
tomcat-container  | 26-Apr-2025 10:13:11.094 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat
tomcat-container  | 26-Apr-2025 10:13:11.094 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat
tomcat-container  | 26-Apr-2025 10:13:11.094 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp
tomcat-container  | 26-Apr-2025 10:13:11.108 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.2].
tomcat-container  | 26-Apr-2025 10:13:11.108 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
tomcat-container  | 26-Apr-2025 10:13:11.109 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
tomcat-container  | 26-Apr-2025 10:13:11.118 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
tomcat-container  | 26-Apr-2025 10:13:11.796 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8080"]
tomcat-container  | 26-Apr-2025 10:13:11.831 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1128] milliseconds
tomcat-container  | 26-Apr-2025 10:13:11.908 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
tomcat-container  | 26-Apr-2025 10:13:11.909 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.104]
tomcat-container  | 26-Apr-2025 10:13:11.927 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/usr/local/tomcat/webapps/ROOT]
tomcat-container  | 26-Apr-2025 10:13:12.387 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/usr/local/tomcat/webapps/ROOT] has finished in [459] ms
tomcat-container  | 26-Apr-2025 10:13:12.395 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]
tomcat-container  | 26-Apr-2025 10:13:12.415 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [580] milliseconds

--- pushing to docker hub ---

❯ docker login
Authenticating with existing credentials...
Login Succeeded

❯ docker build -t ksachin7/cdac-html-tomcat .

[+] Building 0.6s (5/5) FINISHED                                                docker:desktop-linux
 => [internal] load build definition from Dockerfile                                            0.1s
 => => transferring dockerfile: 98B                                                             0.0s
 => [internal] load metadata for docker.io/library/tomcat:9                                     0.0s
 => [internal] load .dockerignore                                                               0.0s
 => => transferring context: 2B                                                                 0.0s
 => [1/1] FROM docker.io/library/tomcat:9                                                       0.2s
 => exporting to image                                                                          0.1s
 => => exporting layers                                                                         0.0s
 => => writing image sha256:910239e4b24d3d423fb25d56d1daa76b05d5c1313af1ce395cc7600bc37abeeb    0.0s
 => => naming to docker.io/ksachin7/cdac-html-tomcat                                            0.0s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/48eg6rt1ne8ioxay9xe4g8fo7

What's next:
    View a summary of image vulnerabilities and recommendations → docker scout quickview 
    
❯ docker push ksachin7/cdac-html-tomcat

Using default tag: latest
The push refers to repository [docker.io/ksachin7/cdac-html-tomcat]
5f70bf18a086: Mounted from library/tomcat 
228f0e6a7fef: Mounted from library/tomcat 
cb12b491a0e3: Mounted from library/tomcat 
9df20c7cbc86: Mounted from library/tomcat 
4ac16bc33072: Mounted from library/tomcat 
0a52207ca5e8: Mounted from library/tomcat 
71692ed877e9: Mounted from library/tomcat 
3abdd8a5e7a8: Mounted from library/tomcat 
latest: digest: sha256:942b6e258955be1e32ba43f39ca39e3ff99b8714148394031e80c7aecaee7459 size: 2201

