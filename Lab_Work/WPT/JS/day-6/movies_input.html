<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container my-5 bg-white bg-gradient">
    <div class="container" style="max-width: 700px;">

        <h1 class="text-center mb-4">Movies</h1>

        <form id="form-data" class="bg-light bg-gradient border p-5 rounded shadow ">
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" name="Name" id="name" class="form-control">
            </div>

            <div class="mb-3">
                <label for="actors" class="form-label">Actors</label>
                <input type="text" name="actors" id="actors" class="form-control">
            </div>

            <div class="mb-3">
                <label for="released" class="form-label">Released</label>
                <input type="text" name="released" id="released" class="form-control">
            </div>

            <div class="mb-3">
                <label class="form-label d-block">Movie Type</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="check_type" value="2D" id="2D">
                    <label class="form-check-label" for="2D">2D</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="check_type" value="3D" id="3D">
                    <label class="form-check-label" for="3D">3D</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="check_type" value="IMAX" id="IMAX">
                    <label class="form-check-label" for="IMAX">IMAX</label>
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label d-block">Language</label>
                <div class="form-check form-check-inline">
                    <input type="radio" name="language" id="english" class="form-check-input" value="English">
                    <label class="form-check-label" for="english">English</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" name="language" id="hindi" class="form-check-input" value="Hindi">
                    <label class="form-check-label" for="hindi">Hindi</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" name="language" id="other" class="form-check-input" value="Other">
                    <label class="form-check-label" for="other">Other</label>
                </div>
            </div>

            <div class="mb-3">
                <label for="runtime" class="form-label">Runtime</label>
                <input type="datetime-local" name="runtime" id="runtime" class="form-control">
            </div>

            <button type="submit" class="btn btn-primary">Save</button>
        </form>

        <div class="mt-5">
            <h2 class="mb-3">Movie List</h2>
            <table class="table table-bordered table-striped" id="movies">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Actors</th>
                        <th>Released</th>
                        <th>Type</th>
                        <th>Language</th>
                        <th>Runtime</th>
                    </tr>
                </thead>
                <tbody id="t-body"></tbody>
            </table>
        </div>
    </div>
    <script>
        function save(e) {
            e.preventDefault();

            let movie_name = e.target.Name.value;
            let actors = e.target.actors.value;
            let released = e.target.released.value;

            let checkboxes = document.querySelectorAll("input[name='check_type']:checked");
            let type = Array.from(checkboxes).map(cb => cb.value).join(", ");

            let lang = document.querySelector("input[name='language']:checked")?.value || "N/A";
            let rawRuntime = e.target.runtime.value;
            let runtime = rawRuntime
                ? new Date(rawRuntime).toLocaleString('en-US', {
                    dateStyle: 'medium',
                    timeStyle: 'short'
                })
                : 'N/A';

            let row = `
                <tr>
                    <td>${movie_name}</td>
                    <td>${actors}</td>
                    <td>${released}</td>
                    <td>${type}</td>
                    <td>${lang}</td>
                    <td>${runtime}</td>
                </tr>`;

            document.getElementById("t-body").innerHTML += row;
            e.target.reset();
        }

        document.getElementById("form-data").addEventListener('submit', save);
    </script>
</body>

</html>